var yall=function(){"use strict";return function(e){var t=(e=e||{}).lazyClass||"lazy",n=e.lazyBackgroundClass||"lazy-bg",o="idleLoadTimeout"in e?e.idleLoadTimeout:200,i=e.observeChanges||!1,r=e.events||{},a=window,s="requestIdleCallback",u="IntersectionObserver",c=["srcset","src","poster"],d=[],l=function(e,o){return d.slice.call((o||document).querySelectorAll(e||"img."+t+",video."+t+",iframe."+t+",."+n))},f=function(t){var o,i=t.parentNode;"PICTURE"==i.nodeName&&(o=i),"VIDEO"==t.nodeName&&(o=t),g(l("source",o),b),b(t),t.autoplay&&t.load();var r=t.classList;r.contains(n)&&(t.setAttribute("style",'background-image: url("'+t.dataset.src+'");'),r.remove(n),r.add(e.lazyBackgroundLoaded||"lazy-bg-loaded"))},v=function(e){for(var t in r)e.addEventListener(t,r[t].listener||r[t],r[t].options||void 0)},b=function(e){var t=function(t){c[t]in e.dataset&&a.requestAnimationFrame(function(){e.setAttribute(c[t],e.dataset[c[t]])})};for(var n in c)t(n)},g=function(e,t){for(var n in e)t instanceof a[u]?t.observe(e[n]):t(e[n])},m=function(e){if(e.isIntersecting||e.intersectionRatio){var n=e.target;s in a&&o?a[s](function(){f(n)},{timeout:o}):f(n),n.classList.remove(t),p.unobserve(n),(h=h.filter(function(e){return e!=n})).length||i||p.disconnect()}},y=function(e){h.indexOf(e)<0&&(h.push(e),v(e),p.observe(e))},h=l();if(/baidu|(?:google|bing|yandex|duckduck)bot/i.test(navigator.userAgent))g(h,f);else if(u in a&&u+"Entry"in a){var p=new a[u](function(e){g(e,m)},{rootMargin:("threshold"in e?e.threshold:200)+"px 0%"});g(h,v),g(h,p),i&&g(l(e.observeRootSelector||"body"),function(t){new MutationObserver(function(){g(l(),y)}).observe(t,e.mutationObserverOptions||{childList:!0,subtree:!0})})}}}();
